<!--#
 @version 0.2 (auto-set)
#-->

<!-- Table 'webvars' edit -->
<p align=center>
 <a href="?">&lt;&lt;&lt; Back</a>
</p>
<table border=0 align=center cellpadding=3>
<form action="?" method="post" enctype="multipart/form-data" name="frmEdit">
[#if OK#]
<tr>
 <td colspan=2 align=center>
  <font color="green">Data has been saved</font>
 </td>
</tr>
[#endif OK#]
[#if ERR#]
<tr>
 <td colspan=2 align=center>
  <font color="red">Please fill out all required fields</font>
 </td>
</tr>
[#endif ERR#]
[#if ID=""#]
<tr>
 <td colspan=2 align=center><b>New Record</b></td>
</tr>
[#endif ID#]

<tr>
 <td align=right>
 [#if ERR_TITLE#]<b><font color="red">[#endif#]
 TITLE:
 </td>
 <td>
  <input type="text" name="title" value="[#TITLE#]" size="80">
 </td>
</tr>


<!-- HOSTNAME (varchar) -->
<tr>
 <td align=right>
 [#if ERR_HOSTNAME#]<b><font color="red">[#endif#]
 URL:
 </td>
 <td>
  <input type="text" name="hostname" value="[#HOSTNAME#]" size="80">
 </td>
</tr>

<tr>
 <td align=right>
 Source page encoding:
 </td>
 <td>
  <input type="text" name="encoding" value="[#ENCODING#]" size="30"> (optional, utf-8 by default)
 </td>
</tr>


<!-- SEARCH_WORD (varchar) -->
<tr>
 <td align=right>
 [#if ERR_SEARCH_PATTERN#]<b><font color="red">[#endif#]
 SEARCH_PATTERN:
 </td>
 <td>
  <input type="text" name="search_pattern" value="[#SEARCH_PATTERN#]" size="80">
 </td>
</tr>

<!--#
<tr>
 <td align=right>
 [#if ERR_SEARCH_PATTERN#]<b><font color="red">[#endif#]
 CHECK_PATTERN (optional):
 </td>
 <td>
  <input type="text" name="check_pattern" value="[#CHECK_PATTERN#]" size="80">
 </td>
</tr>
#-->


<!-- SCRIPT_ID_ONLINE (int) -->
<tr>
 <td align=right valign="top">
 [#if ERR_SCRIPT_ID#]<b><font color="red">[#endif#]
 On change action:
 </td>
 <td>

 <input type="radio" name="run_type" value="script"[#if SCRIPT_ID!="0"#] checked[#endif#]> Run Script:
   <select name="script_id">
    <option value="0">
    [#begin SCRIPTS#]
        <option value="[#ID#]"[#if ID="<#SCRIPT_ID#>"#] selected[#endif#]>[#TITLE#]
        [#end SCRIPTS#]
   </select>    
   <br>
   <input type="radio" name="run_type" value="code"[#if SCRIPT_ID_OFFLINE="0"#] checked[#endif#]> Exec Code:<br>
 [#if ERRORS!=""#]
 <font color='red'>[#ERRORS#]</font><br>
 [#endif ERRORS#]   
 <textarea name="code" rows=12 cols=100>[#CODE#]</textarea>

 </td>
</tr>

<tr>
 <td align=right>
 LINKED OBJECT.PROPERTY:
 </td>
 <td>
  <input type="text" name="linked_object" value="[#LINKED_OBJECT#]" size="20">
  .
  <input type="text" name="linked_property" value="[#LINKED_PROPERTY#]" size="20">
 </td>
</tr>




<!-- ONLINE_INTERVAL (int) -->
<tr>
 <td align=right>
 [#if ERR_ONLINE_INTERVAL#]<b><font color="red">[#endif#]
 CHECK INTERVAL:
 </td>
 <td>
  <input type="text" name="online_interval" value="[#ONLINE_INTERVAL#]" size="10"> seconds (0 to use default)
 </td>
</tr>

<tr>
 <td align=right valign="top">
  Latest value:
 </td>
 <td valign="top">
  [#LATEST_VALUE#]
 </td>
</tr>


<tr>
 <td align=right valign="top">
  Log:
 </td>
 <td valign="top">
  [#LOG#]
 </td>
</tr>


<tr>
 <td colspan=2 align=center>
 [#if ID!=""#]
 <input type="submit" name="subm" value="Submit">
 [#else ID#]
 <input type="submit" name="subm" value="Add">
 [#endif ID#]
 &nbsp;
 <a href="?">Cancel</a>
 </td>
</tr>
<input type="hidden" name="id" value="<#ID#>">
<input type="hidden" name="view_mode" value="<#VIEW_MODE#>">
<input type="hidden" name="edit_mode" value="<#EDIT_MODE#>">
<input type="hidden" name="mode" value="update">
</form>
</table>
