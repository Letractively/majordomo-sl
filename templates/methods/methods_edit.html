<!--#
 @version 0.1 (auto-set)
#-->
﻿<!-- Table 'methods' edit -->
<p align=center>
 <a href="?">&lt;&lt;&lt; Назад</a>
</p>
<table border=0 align=center cellpadding=3>
<form action="?" method="post" enctype="multipart/form-data" name="frmEdit">
[#if OK#]
<tr>
 <td colspan=2 align=center>
  <font color="green">Данные сохранены</font>
 </td>
</tr>
[#endif OK#]
[#if ERR#]
<tr>
 <td colspan=2 align=center>
  <font color="red">Please fill out all required fields</font>
 </td>
</tr>
[#endif ERR#]
[#if ID=""#]
<tr>
 <td colspan=2 align=center><b>Новый метод/событие</b></td>
</tr>
[#endif ID#]
<!-- TITLE (varchar) -->
<tr>
 <td align=right>
 [#if ERR_TITLE#]<b><font color="red">[#endif#]
 Название:
 (*)
 </td>
 <td>
  <input type="text" name="title" value="[#TITLE#]" size="50">
 </td>
</tr>
<!-- DESCRIPTION (text) -->
<tr>
 <td valign=top align=right>
 [#if ERR_DESCRIPTION#]<b><font color="red">[#endif#]
 Описание
 :
 </td>
 <td valign=top>
 <textarea name="description" rows=3 cols=100>[#DESCRIPTION#]</textarea>
 </td>
</tr>
<!-- CODE (text) -->
<tr>
 <td valign=top align=right>
 [#if ERR_CODE#]<b><font color="red">[#endif#]
 Выполнить
 :

 </td>
 <td valign=top>
 <input type="radio" name="run_type" value="script"[#if SCRIPT_ID!="0"#] checked[#endif#]> готовый скрипт:
   <select name="script_id">
    <option value="0">
    [#begin SCRIPTS#]
	<option value="[#ID#]"[#if ID="<#SCRIPT_ID#>"#] selected[#endif#]>[#TITLE#]
	[#end SCRIPTS#]
   </select>    
   <br>
   <input type="radio" name="run_type" value="code"[#if SCRIPT_ID="0"#] checked[#endif#]> код:<br>
 [#if ERRORS!=""#]
 <font color='red'>[#ERRORS#]</font><br>
 [#endif ERRORS#]   
 <textarea name="code" rows=12 cols=100>[#CODE#]</textarea>
 </td>
</tr>
<!--#
<tr>
         <td>&nbsp;</td>
         <td valign=top>
  Вызывать метод родительского класса:<br>
  <label><input type="radio" name="call_parent" value="1"[#if CALL_PARENT="1"#] checked[#endif#]> перед исполнением кода</label><br>
  <label><input type="radio" name="call_parent" value="2"[#if CALL_PARENT="2"#] checked[#endif#]> после исполнения кода</label><br>
  <label><input type="radio" name="call_parent" value="0"[#if CALL_PARENT="0"#] checked[#endif#]> не вызывать</label>
                
                </td>
</tr>
#-->
<tr>
 <td colspan=2 align=center>
 [#if ID!=""#]
 <input type="submit" name="subm" value="Сохранить">
 [#else ID#]
 <input type="submit" name="subm" value="Добавить">
 [#endif ID#]
 &nbsp;
 <a href="?">Отмена</a>
 </td>
</tr>
<input type="hidden" name="id" value="<#ID#>">
<input type="hidden" name="view_mode" value="<#VIEW_MODE#>">
<input type="hidden" name="edit_mode" value="<#EDIT_MODE#>">
<input type="hidden" name="mode" value="update">
</form>
</table>
